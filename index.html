<!DOCTYPE html>
<html>

<head>
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        img#imagePreview {
            max-width: 100%;
            height: auto;
        }
    </style>
    <script src="zasdk.js"></script>
</head>

<body>

    <h1>This is a Heading</h1>
    <p>This is a paragraph.</p>
    <p><input type="file" accept="camera/*" capture="camera" value="拍照" onchange="previewImage(this)"></p>
    <p><input type="file" accept="image/*" capture="camera" value="拍照" onchange="previewImage(this)"></p>
    <p><input type="file" accept="image/*" value="上传照片" onchange="previewImage(this)"></p>
    <p><input type="file" accept="image/*,application/pdf" id="inputFile" onchange="previewImage(this)"></input></p>

    <!-- 图片预览区域 -->
    <img id="imagePreview" src="" alt="Image preview...">

    <p> </p>
    <button type="button" onclick="openApp()">App 打开</button>
    <p> </p>
    <button type="button" onclick="sendMsg()">发送消息</button>
    <p> </p>
    <button type="button" onclick="openGuomin()">打开国民</button>
    <p> </p>
    <button type="button" onclick="close()">关闭页面</button>
    <p> </p>
    <button type="button" onclick="close2()">关闭页面2</button>
    <p> </p>
    <button type="button" onclick="popHome()">回首页</button>
    <p> </p>
    <button type="button" onclick="navigateToZAService()">新开页面</button>
    <p> </p>
    <button type="button" onclick="navigateToZAService2()">利安新开页面</button>
    <p> </p>
    <img id="ccc" style="width: 100px; height: 100px;" src="ercode.png" alt="二维码">
    <script>
        function openGuomin() {
            var url = "guomin://start";
            window.location.href = url;
        }
        function openApp() {
            var url = "laapp://la.live?params={\"webinarId\":\"100042195\",\"type\":\"5\",\"id\":\"26\",\"name\":\"测试\",\"pic\":\"\",\"master\":\"github\"}";
            window.location.href = url;
        }
        function sendMsg() {
            var url = "laapp://la.im.chat?params={\"conversationId\":\"c9efbdb074d3a4b71b5d0213726deb859\",\"shareTitle\":\"测试标题\",\"shareDesc\":\"测试desc\",\"shareImg\":\"https://placekitten.com/200/200\",\"shareUrl\":\"https://www.baidu.com\"}";
            window.location.href = url;
        }
        function previewImage(input) {
            // 检查是否有文件被选中
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                // 文件读取完成后，将其显示在img元素中
                reader.onload = function (e) {
                    document.getElementById('imagePreview').src = e.target.result;
                };

                // 读取选中的文件
                reader.readAsDataURL(input.files[0]);
            }
        }
        function close() {
            SDK.closeWebView();
        }
        function close2() {
            console.log('close >>>');
            const paramsObj = {
                functionName: 'closeWebView',
                params: {},
                complete: 'cbName'
            };
            console.log(JSON.stringify(paramsObj));
            window.prompt(JSON.stringify(paramsObj));
        }
        function popHome() {
            // SDK.popToHomePage();
            console.log('popHome >>>');
            const paramsObj = {
                functionName: 'popToHomePage',
                params: {},
                complete: 'cbName'
            };
            console.log(JSON.stringify(paramsObj));
            window.prompt(JSON.stringify(paramsObj));
        }
        function navigateToZAService() {
            console.log('navigateToZAService >>>');
            const paramsObj = {
                functionName: 'navigateToZAService',
                params: {"url":"zaapp://zai.gotowebview?params={\"laShowNavigationBar\":\"1\",\"url\":\"https://pages-7l1.pages.dev\"}"},
                complete: 'cbName'
            };
            console.log(JSON.stringify(paramsObj));
            window.prompt(JSON.stringify(paramsObj));
        }
        function navigateToZAService2() {
            console.log('navigateToZAService >>>');
            const paramsObj = {
                functionName: 'navigateToZAService',
                params: {"url":"laapp://la.gotowebview?params={\"laShowNavigationBar\":\"1\",\"url\":\"https://pages-7l1.pages.dev\"}"},
                complete: 'cbName'
            };
            console.log(JSON.stringify(paramsObj));
            window.prompt(JSON.stringify(paramsObj));
        }
    </script>
</body>

</html>